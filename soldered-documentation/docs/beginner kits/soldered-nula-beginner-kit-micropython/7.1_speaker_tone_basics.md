---
slug: /soldered-nula-beginner-kit-micropython/speaker-basics
title: 7.1. Speaker Tone Basics
id: speaker-basics
hide_title: true
---

<SectionTitle title="7.1. Speaker Tone Basics" backgroundImage="/img/arduino_bg.jpg" />

To drive a speaker and play simple audio tones we can generate **PWM** signals from output pins on the NULA Mini board. By adjusting the PWM frequency and duty cycle, we can produce different pitches and create basic melodies. This example uses PWM output to play different tones.

**At the end of this example you will learn:**
- How to connect and control the speaker
- Different musical notes and how they are used
- Play tone at given frequency

---

**Parts required:**
- **Soldered NULA Mini board**
- **Breadboard**
- **1 x Speaker**
- **Jumper wires**

## Putting the components together

<CenteredImage src="/img/under_construction.png" alt="Under construction" width="400px" />

- Connect the positive terminal of the speaker to pin 5 on the board (or any PWM capable pin)
- Connect the negative terminal of the speaker to the GND on the board

## Code Example

Import the necessary libraries.

```python
from machine import Pin, PWM
import time
```

Set the speaker pin to 5 and create a PWM object to drive the speaker, turn it off initially to avoid unwanted sounds.

```python
SPEAKER_PIN = 5

speaker = PWM(Pin(SPEAKER_PIN))
speaker.duty_u16(0) 
```

These are some of the most common musical notes saved in a `dictionary` type variable. Numbers represent frequencies in Hz.

```python
NOTES = {
    "C4": 262,
    "D4": 294,
    "E4": 330,
    "F4": 349,
    "G4": 392,
    "A4": 440,
    "B4": 494,
    "C5": 523,
    "D5": 587,
    "E5": 659,
    "F5": 698,
    "G5": 784,
    "A5": 880,
    "B5": 988,
    "C6": 1047
}
```

Function responsible for playing a tone at given frequency and duration.

```python
def play_tone(freq, duration_MS):
    speaker.freq(freq)              # Set frequency (tone)
    speaker.duty_u16(30000)         # 50% duty cycle (max is 65535) - controls loudness
    time.sleep_ms(duration_MS)      # Play for duration
    speaker.duty_u16(0)             # Turn off speaker
```

Main loop that calls `play_tone()` function to play 3 different tones with slight delay.

```python
while True:
    play_tone(NOTES["C4"], 500)   # C4 note, 500ms duration
    time.sleep(0.2)
    play_tone(NOTES["E4"], 500)   # E4 note, 500ms duration
    time.sleep(0.2)
    play_tone(NOTES["G4"], 500)   # G4 note, 500ms duration
    time.sleep(1)
```

## Full Example

<QuickLink 
  title="7.1_Speaker_Tone_Basics.py"
  url="https://github.com/SolderedElectronics/PRIMJER" 
/>