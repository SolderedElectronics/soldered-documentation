---
slug: /soldered-nula-beginner-kit-micropython/measuring-distance
title: 3.1. Measuring distance
id: measuring-distance
hide_title: true
---

<SectionTitle title="3.1. Measuring distance" backgroundImage="/img/arduino_bg.jpg" />

<CenteredImage src="/img/under_construction.png" alt="Under construction" caption="Short example demonstration video" width="700px" />

This example covers how to use an **HC-SR04 Ultrasonic sensor** to measure distance from an object. This sensor works by emitting high-frequency sound waves through the **TRIG** pin which then bounce off objects and return to the sensor where **ECHO** pin listens for their return. Distance is then calcuated based on the measured time it took to bounce back.

<SuccessBox>
**At the end of this example you will learn:**
- How the ultrasonic sensor works
- How to get distance reading from the sensor
</SuccessBox>

<InfoBox>
**Parts required:**
- **Soldered NULA Mini Board**
- **Breadboard**
- **1 x Ultrasonic sensor**
- **Some jumper wires**
</InfoBox>

<CenteredImage src="/img/under_construction.png" alt="Under construction" caption="Required components" width="400px" />

## Putting the components together

- Connect the Ultrasonic sensor as shown in table below:

| NULA Mini | HC-SR04 |
|:---------:|:-------:|
|    VCC    |   5V    |
|   TRIG    |   IO4   |
|   ECHO    |   IO3   |
|   GND     |   GND   |


<CenteredImage src="/img/under_construction.png" alt="Under construction" caption="Components connected together" width="400px" />

## Code Example

To get distance readings we import the `UltrasonicSensor` module which supports both **native (GPIO)** and **Qwiic (I2C)** mode.

```python
from UltrasonicSensor import UltrasonicSensor
import time
```

Next, create an `UltrasonicSensor` object and initialize it by setting the pins to which it is connected.

```python
# Create I2C an 'UltrasonicSensor' object which initializes the sensor in Qwiic mode with default I2C pins
#i2c = I2C(0, scl=Pin(7), sda=Pin(6))
#sensor = UltrasonicSensor(i2c)

# Native
sensor = UltrasonicSensor(trig_pin=4, echo_pin=3)
```
Infinite loop to constantly get distance and duration measurement

```python
# Infinite loop to continuously read sensor values
while True:
    # Add small delay for measurement
    time.sleep(0.1)  

    # Sensor sends out a pulse and waits for the echo to return, we then use the time
    # it took for the echo to return to calculate the distance in centimeters to the object
    distance = sensor.getDistance()  

    # Small delay for measurement
    time.sleep(0.1)

    # Store sensor reading in duration variable (value in microseconds)
    duration = sensor.getDuration()  

    print(f"Distance: {distance} cm")  # Print the distance value to the console
    print(f"Duration: {duration} us")  # Print the duration value to the console

    # Pause the program so the echoes from last ping 'die out'
    time.sleep(0.25)  
```

## Full Example

<QuickLink 
  title="3.1_Measuring_Distance.py" 
  url="https://github.com/SolderedElectronics/PRIMJER" 
/>