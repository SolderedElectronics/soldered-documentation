---
slug: /soldered-nula-beginner-kit-arduino/slider-potentiometer-led-fade
title: 2.2 Slider Potentiometer LED Fade
id: nula-beginner-arduino-slider-potentiometer-led-fade
hide_title: False
---

<CenteredImage src="/img/under_construction.png" alt="placeholder" caption="Full example video" width="600px"/>

The goal of this example is to teach you how to use the analog features of the **Soldered NULA RP2040** board. Unlike **digital pins**, which can only read **HIGH or LOW**, **analog pin**s allow the board to measure a **continuous range of voltages**. This makes it possible to read the position of sensors like potentiometers, joysticks, or light sensors.

in this project we will use a **sliding potentiometer** to controll the brightness of an **LED**. The potentiometer outputs a voltage between **0V** and **3.3V**, depending on the position of the slider. The board's **ADC (Analog to Digital Converter)** reads this voltage and converts it into a number between **0** and board's ADC resolution -1, in case of NULA board, **4095**. That number is then written to the LED pin using **PWM (Pulse Width Modulation)**, which makes the LED appera brighter or dimmer.

<SuccessBox>

**In this documentation you will learn:**
  - How to read analog values using **ADC**.
  - How to write analog value using **PWM**.
</SuccessBox>

**Hardware required:**
  - 1x Soldered NULA RP2040 board
  - 1x Breadboard
  - 1x LED (any color)
  - 1x Slider Potentiometer
  - 1x 330 ohm ressitor
  - Jumper wires
  - USB-c cable

<CenteredImage src="/img/under_construction.png" alt="placeholder" caption="All components that are needed" width="600px"/>

<InfoBox>All GPIO pins on the NULA board can be used as analog output pins (PWM), but not all GPIO pins can be used as analog input pins (ADC). Here are all the ADC pins highlighted:</InfoBox>
<CenteredImage src="/img/under_construction.png" alt="placeholder" caption="All ADC pins highlighted" width="600px"/>
---

## Putting the components together

### 1. insert the NULA board on the breadboard
<InfoBox>For this step you need to be familiar with the internal structure of a breadboard and its power rails. To familiarize, check out [**PLACEHOLDER**] documentation page.</InfoBox>

If your board has male connectors soldered to its pins, we recommend placing it on the breadboard to make it easier and tidier for yourself to connect other components.

<CenteredImage src="/img/under_construction.png" alt="NULA on breadboard" caption="NULA on breadboard" width="600px"/>

If not, no worry. You can just connect the board with components by wire. It will be a bit messier but will do the job just fine.

---

### 2. Connect the LED to the NULA board
Take a piece of jumper wire and connect one end to an available GPIO pin on the board. For this example, we will be using **IO12** pin. Connect the other end to any free power rail on the breadboard.

<CenteredImage src="/img/under_construction.png" alt="LED wiring 1" caption="LED connection step 1" width="600px"/>

Take one 330 ohm resistor and connect one end to the same power rail as the wire. Connect the other end of the resistor to another free power rail.  

<CenteredImage src="/img/under_construction.png" alt="LED wiring 2" caption="LED connection step 2" width="600px"/>

Take the LED and inspect its pins, there should be one longer than the other. The longer one is the **Anode (+)** and the shorter one is the **Cathode (-)**.

<CenteredImage src="/img/nula-beginner-kit-arduino/led.jpg" alt="LED pins marked" caption="LED pins" width="600px"/>

Connect the **Anode** (long leg) to the power rail with the resistor. Connect the **Cathode** (short leg) to **GND** on the NULA board.

---

### 3. Connect the sliding potentiometer
The potentiometer has 6 pins, for the needs of this example we will just be using 3 of them. **OUTA**, **VCCA** and **GND**.

<CenteredImage src="/img/under_construction.png" alt="pot pins up close" caption="pot con step 1" width="600px"/>

Connect the Slider pins to NULA board as per the table below:

| **Slider potentiometer** 	| **NULA RP2040** 	|
|---	|---	|
| VCCA 	| 3.3V 	|
| GND 	| GND 	|
| OUTA 	| IO28 (or any ADC pin) 	|

<CenteredImage src="/img/under_construction.png" alt="potentiometer connections" caption="pot con step 2" width="600px"/>

---

## Reading analog values
The **Soldered NULA RP2040** board has a 12-bit multi-channel ADC (analog-to-digital converter) that reads analog signals and converts it into integer values between 0 and 4095. This process is called **sampling**.

<CenteredImage src="/img/nula-beginner-kit-arduino/ADC-sampling-graph.png" alt="ADC sampling" caption="Visualisation of ADC sampling" />

To read the potentiometer's value, we call `analogRead(pin)` function. Since the ADC resolution of the NULA RP2040 is **12-bits**, the function returns a value between 0 and 4095. We call the function inside the **loop()**:

<InfoBox>It is recomended to call the **analogReadResolution(12)** in the **setup()** because the default value is usuallf 10 or 8!</InfoBox>

```cpp

/*
This is a variable to which we assign the number of the pin that we connected the sliding potentiometer's output to.
For this example, we will use a pin that is able to read analog input, pins that have Analog-Digital Converter (ADC)
capability, because we don't simply want to turn the LED on or off, but control its brightness gradually.

In this example we will be using the pin 28.
*/
int potPin = 28;

//We store the converted value from the potentiometer's output
int potValue=0;

void setup(){
    /*
  analogReadResolution() is a function that lets you set ADC resolution (in bits) of the value returned by analogRead()
  function. The NULA board contains a multichannel, 12-bit ADC. This means that it will map input voltages between 0
  and the operating voltage (+ 3.3V) into integer values between 0 and 4095. This yields a resolution between readings
  of 3.3 volts / 4096 units or  0.000805 volts per unit.

  */
  analogReadResolution(12);
}

void loop() {
  
  //analogRead() is a function that reads the value from a specified analog input pin. 
  potValue=analogRead(potPin);

  delay(50);

}
```

---


## Writing analog values

The NULA RP2040 board does not output real analog voltages directly. Instead, it uses a technique called **Pulse Width Modulation (PWM)**. PWM rapidly switches a pin state between HIGH (3.3V) and LOW (0V) at a high frequency, and by changing the percentage of time spent in the HIGH state (called **the duty cycle**), the board can simulate an analog voltage.

<CenteredImage src="/img/nula-beginner-kit-arduino/pwm-explained.png" alt="PWM visualized" caption="PWM visualization" />

This lets us controll things like, in this example, brightness of an LED:
    - 0% duty cycle = LED fully off
    - 100% duty cycle = LED fully on
    - 1-99% duty cycle = LED appears dimmer or brighter

The function `analogWrite(pin, value)` controls the duty cycle. By default, **value** expects 0-255 (8-bit resolution). But since the NULA RP2040 supports **12-bit PWM**, we can set the resolution to match the ADC and work directly with values from 0-4095 by caling `analogWriteResolution()` in setup:

```cpp

/*
This is a variable to which we assign the number of the pin that we connected the sliding potentiometer's output to.
For this example, we will use a pin that is able to read analog input, pins that have Analog-Digital Converter (ADC)
capability, because we don't simply want to turn the LED on or off, but control its brightness gradually.

In this example we will be using the pin 28. If you want to use another ADC pin, check out the pinout diagram at
the example documentation:  <link placeholder>
*/
int potPin = 28;

//We store the converted value from the potentiometer's output
int potValue=0;

/*
This is a variable to which we pass the number of pin that we had connected the LED to. 
The NULA board has a pin naming logic as follows: IO12, where 12 is the number that we give to the variable.
If you wish to use a different pin, make sure you are using a IO__ marked pin. 
*/
int LED_PIN = 12;

void setup() {

  /*
  pinMode() is a function that configures the specified pin to behave either as an input or in this case as an output.
  This simply means that the pin "listens" for available data when in input mode, and "writes" data when in output mode.
  As our pin needs to turn on the LED, we will put the pin in OUTPUT mode.
  */
  pinMode(LED_PIN, OUTPUT);

  /*
  analogReadResolution() is a function that lets you set ADC resolution (in bits) of the value returned by analogRead()
  function. The NULA board contains a multichannel, 12-bit ADC. This means that it will map input voltages between 0
  and the operating voltage (+ 3.3V) into integer values between 0 and 4095. This yields a resolution between readings
  of 3.3 volts / 4096 units or  0.000805 volts per unit.

  */
  analogReadResolution(12);

  /*
  analogWriteResolution() is a function that lets you change the PWM resolution (in bits). The default 
  */
  analogWriteResolution(12);
}

void loop() {
  
  //analogRead() is a function that reads the value from a specified analog input pin. 
  
  potValue=analogRead(potPin);

  /*
  analogWrite() is a function that writes an analog value (PWM wave) to a pin. After the function is called, the pin will
  generate a steady rectangular wave of a specified duty cycle untill the next call to analogWrite() or digitalRead()
  on the same pin.
  */
  analogWrite(LED_PIN, potValue);
  delay(50);

}
```
---

<CenteredImage src="/img/under_construction.png" alt="placeholder" caption="Full example video" width="600px"/>

---

## Full example
Check out the full example code on the link below:
<QuickLink 
  title="2.2_Slider_Potentiometer_LED_Fade.ino" 
  description="Example that shows how to control LED brightness using a PWM pin and a sliding potentiometer"
  url="https://github.com/SolderedElectronics/Soldered-NULA-Beginner-kit-Arduino-project-examples/blob/main/2_Inputs_and_Basic_interaction/2.2_Slider_Potentiometer_LED_Fade/2.2_Slider_Potentiometer_LED_Fade.ino" 
/>