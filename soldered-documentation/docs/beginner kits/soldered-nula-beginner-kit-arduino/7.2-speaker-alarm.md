---
slug: /soldered-nula-beginner-kit-arduino/speaker-alarm
title: 7.2 Speaker Alarm
id: nula-beginner-arduino-speaker-alarm
hide_title: False
---

<CenteredImage src="/img/under_construction.png" alt="placeholder" caption="Full example video" width="600px"/>

The goal of this example is to show you how to **trigger a melody with a button**.  
We will connect a **speaker** to the NULA RP2040 board, and when the button is pressed, the board plays a **funky alarm tune**.

<SuccessBox>
**In this documentation you will learn:**
- How to combine a **button input** with a **speaker output**.
- How to use a **custom function** to organize melody code.
- How to make a melody play only when the button is pressed.
</SuccessBox>

**Hardware required:**
- 1× Soldered NULA RP2040 board  
- 1× Small 8Ω speaker  
- 1× Push button  
- 1× 10kΩ resistor (pull-down)  
- 1× Breadboard  
- Jumper wires  
- USB-C cable  

<CenteredImage src="/img/under_construction.png" alt="placeholder" caption="All components that are needed" width="600px"/>

---

## Putting the components together

### 1. Connect the speaker  
- Connect the **positive terminal** of the speaker to pin **IO08** on the NULA board.  
- Connect the **negative terminal** to **GND**.  

<CenteredImage src="/img/under_construction.png" alt="placeholder" caption="Speaker connected to IO08" width="600px"/>

### 2. Connect the button  
- Connect one leg of the button to pin **IO02**.  
- Connect the opposite leg to **3.3V**.  
- Place a **10kΩ resistor** between the IO02 leg and **GND** (pull-down).  

<InfoBox>
Not sure how pull-down resistors work? Check the detailed explanation in [**2.1 Button Toggle LED**](/documentation/soldered-nula-beginner-kit.arduino/button-toggle-led/#what-is-a-pull-down-resistor).
</InfoBox>

---

## Playing the melody when the button is pressed

We first configure the pins in **setup()**:  

```cpp
const int speakerPin = 8;   // Pin where the buzzer is connected
const int buttonPin = 2;   // Pin where the button is connected

void setup() {
  pinMode(speakerPin, OUTPUT); // Speaker
  pinMode(buttonPin, INPUT);  // Button
}
```

Then inside **loop()**, we check if the button is pressed:

```cpp
void loop{
    if(digitalRead(buttonPin)==HIGH){
        //play melody
    }
}
```

## Organizing melody code in a function

Instead of writing the melody logic directly inside **loop()**, we place it inside a **separate function** called `playFunkySong()`. This keeps the code clean and reusable. For example, if we add more sensors that trigger the melody, we don't need to copy the whole code again and again, we just call the function.
```cpp
void playFunkySong() {
  int length = sizeof(melody) / sizeof(melody[0]);

  for (int thisNote = 0; thisNote < length; thisNote++) {
    int noteDuration = 1000 / noteDurations[thisNote];

    if (melody[thisNote] != 0) {
      tone(8, melody[thisNote], noteDuration);
    }

    int pauseBetweenNotes = noteDuration * 1.3;
    delay(pauseBetweenNotes);

    noTone(8);
  }
}
```

---

## Full example
Check out the full example code on the link below:
<QuickLink 
  title="7.2_Speaker_Alarm.ino" 
  description="Example that plays a funky melody on the buzzer when a button is pressed."
  url="https://github.com/SolderedElectronics/Soldered-NULA-Beginner-kit-Arduino-project-examples/blob/main/7_More_outputs_and_media/7.2_Speaker_Alarm/7.2_Speaker_Alarm.ino" 
/>
