---
slug: /soldered-nula-beginner-kit-arduino/buzzer-happy-birthday
title: 7.1 Speaker basics
id: nula-beginner-arduino-speaker-basics
hide_title: False
---

<CenteredImage src="/img/under_construction.png" alt="placeholder" caption="Full example video" width="600px"/>


The goal of this example is to show you how to use a **speaker** to play a melody. We will program the **NULA RP2040** board to generate different pitches and durations so the plays the tune of **Happy Birthday**.

<SuccessBox>
**In this documentation you will learn:**
- How to connect and control a speaker with the NULA board.  
- What musical note frequencies are and how they are used in code.  
- How to generate tones with the `tone()` function and stop them with `noTone()`.  
- How to use arrays to define a melody and its rhythm.  
</SuccessBox>

**Hardware required:**
- 1× Soldered NULA RP2040 board  
- 1× Small 8Ω speaker  
- 1× Breadboard  
- Jumper wires  
- USB-C cable  

<CenteredImage src="/img/under_construction.png" alt="placeholder" caption="All components that are needed" width="600px"/>

---

## Putting the components together

1. Place the speaker on the breadboard.  
2. Connect the **positive terminal** of the speaker to **IO08** pin on the NULA board.  
3. Connect the **negative terminal** of the speaker to **GND** on the board.  

<InfoBox>
Unlike buzzers, which are limited to simple tones, a small **speaker** can produce a much wider range of musical notes. This makes it better for melodies.
</InfoBox>

<CenteredImage src="/img/under_construction.png" alt="placeholder" caption="Speaker connection" width="600px"/>

---

## Understanding sound and frequencies

Sound is created by vibrations in the air. A speaker makes sound when the microcontroller rapidly switches the output pin between HIGH and LOW, producing a square wave. The **speed** of these vibrations is measured in **Hertz (Hz)**:

- A low frequency (e.g., 262 Hz = middle C) sounds deep.  
- A high frequency (e.g., 880 Hz = A5) sounds high-pitched.  

Musical notes correspond to specific frequencies. For example:  

| Note | Frequency (Hz) |
|------|----------------|
| C4   | 262 |
| D4   | 294 |
| E4   | 330 |
| F4   | 349 |
| G4   | 392 |
| A4   | 440 |
| B4   | 494 |

We store these values in constants (`#define NOTE_C4 262`) so they can be used in our code.

---

## Playing sounds with `tone()` and `noTone()`

Arduino provides a simple way to generate sound:  

- `tone(pin, frequency, duration)` plays a sound at the given frequency (Hz) for the given time (ms).  
- `noTone(pin)`stops the sound on that pin.  

For example:  

```cpp
tone(8, 440, 500); // Plays note A4 (440 Hz) for 500 ms on pin 8
delay(600);        // Waits a bit longer than the note length
noTone(8);         // Stops the sound
```

---

## Defining the melody

We define two arrays:
- `melody[]` which contains the sequence of notes (frequencies).
- `noteDurations[]` which contains the duration of each note.


<InfoBox>The duration of the notes are fractions of a note. So for example, **4 = quarter note (1000/4 = 250 ms)**, **8 = eight note (1000/8 = 125 ms)**.</InfoBox>

---

## Playing the melody
Inside **setup()**, we loop through each note, calculate its duration, play it with `note()`, pause briefly, and the stop it with `noTone()`.

```cpp
//...
for (int thisNote = 0; thisNote < 25; thisNote++) {

    /*
    Calculate the note duration in milliseconds. 
    Example: 1000 / 4 = 250 ms for a quarter note.
    */
    int noteDuration = 1000 / noteDurations[thisNote];

    /*
    tone() generates a square wave of the specified frequency (note) 
    on the given pin for the specified duration.
    */
    tone(buzzerPin, melody[thisNote], noteDuration);

    /*
    To separate notes and make them distinct, 
    add a small pause between them (30% longer than the note duration).
    */
    int pauseBetweenNotes = noteDuration * 1.30;
    delay(pauseBetweenNotes);

    /*
    Stop the tone before moving on to the next note.
    */
    noTone(buzzerPin);
  }
  //...
```

---

## Full example
Check out the full example code on the link below:
<QuickLink 
  title="7.1_Speaker_basics.ino" 
  description="Example that shows how to play the 'Happy Birthday' melody using a buzzer."
  url="https://github.com/SolderedElectronics/Soldered-NULA-Beginner-kit-Arduino-project-examples/blob/main/7_More_outputs_and_media/7.1_Speaker_basics/7.1_Speaker_basics.ino" 
/>
